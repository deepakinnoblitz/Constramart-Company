{
 "absolute_value": 0,
 "align_labels_right": 0,
 "creation": "2025-11-21 18:19:54.696441",
 "css": "@page {\r\n    size: A4;\r\n    margin: 3mm;\r\n}\r\n\r\nbody, table {\r\n    font-family: Arial, Helvetica, sans-serif;\r\n    -webkit-print-color-adjust: exact;\r\n    print-color-adjust: exact;\r\n}\r\n\r\ntable {\r\n    width: 100%;\r\n    border-collapse: collapse;\r\n    font-size: 12px;\r\n}\r\n\r\n/* GLOBAL CELL BORDER */\r\nth, td {\r\n    padding: 5px;\r\n    vertical-align: top;\r\n}\r\n\r\n/* BLUE HEADER */\r\n.blue-header {\r\n    background-color: #FDB730 !important;\r\n    color: white !important;\r\n    font-weight: bold;\r\n}\r\n\r\n/* FIXED WIDTH SERVICE TABLE */\r\n.service-table {\r\n    width: 750px !important;     /* FIXED */\r\n    table-layout: fixed !important; \r\n    margin: 0 auto;\r\n}\r\n\r\n/* NO STRETCHING */\r\n.service-table th,\r\n.service-table td {\r\n    overflow-wrap: break-word;\r\n}\r\n\r\n.text-right { text-align: right !important; }\r\n.text-center { text-align: center !important; }\r\n.section-title {\r\n    background:#FDB730;\r\n    color:#fff;\r\n    padding:5px;\r\n    font-weight:bold;\r\n    border:1px solid #000;\r\n}\r\n\r\n\r\n.service-table {\r\n    width: 620px !important;\r\n    table-layout: fixed !important;\r\n    border-collapse: collapse !important;\r\n}\r\n.service-table th, \r\n.service-table td {\r\n    padding: 4px !important;\r\n    overflow-wrap: break-word;\r\n}\r\n\r\n.service-table th,\r\n.service-table td {\r\n    white-space: normal !important;\r\n    word-wrap: break-word !important;\r\n    overflow-wrap: break-word !important;\r\n}\r\n\r\n\r\n",
 "custom_format": 1,
 "default_print_language": "en",
 "disabled": 0,
 "doc_type": "Invoice",
 "docstatus": 0,
 "doctype": "Print Format",
 "font_size": 14,
 "html": "\r\n<div>\r\n\r\n<!-- HEADER SECTION -->\r\n<table>\r\n    <tr border:1px solid #000;>\r\n        <!-- LEFT LOGO CELL -->\r\n        <td style=\"\r\n            width:40%; \r\n            border:1px solid #000;\r\n            border-right:0 !important;\r\n        \">\r\n            <img src=\"/assets/Constramart Logo.png\"\r\n                 style=\"height:110px; margin:10px;\">\r\n        </td>\r\n\r\n        <!-- RIGHT DETAILS CELL -->\r\n        <td style=\"\r\n            width:800%; \r\n            text-align:right;\r\n            border-left:0 !important;\r\n            border:1px solid #000;\r\n        \">\r\n            <br>\r\n            <strong style=\"font-size:16px; margin-top: 10px\">\r\n                Constramart\r\n            </strong><br>\r\n            18, Mangali Nagar 1st Street, Arumbakkam,<br>\r\n            Chennai, Tamil Nadu 600106.<br>\r\n            Phone: +91 7550070074 / +91 9940665795<br>\r\n            Email: constramart@gmail.com<br>\r\n            <br>\r\n        </td>\r\n    </tr>\r\n</table>\r\n\r\n\r\n<!-- BILLING SECTION -->\r\n<table>\r\n    <tr>\r\n        <td style=\"width:64.55%; border:1px solid #000; border-top:0 !important;\">\r\n            <strong>Customer Details: </strong><br>\r\n            <div style=\"margin-top: 5px\">\r\n                <strong>{{ doc.billing_name }}</strong><br>\r\n                {{ doc.billing_address }}\r\n            </div>\r\n            \r\n        </td>\r\n\r\n        <td style=\"width:55.55%; text-align:right; border:1px solid #000; border-top:0 !important;\">\r\n            <strong>\r\n                Ref No: {{ doc.ref_no }} <br>\r\n                Date: {{ doc.invoice_date }}<br>\r\n                Due Date: {{ doc.due_date }}\r\n            </strong>\r\n        </td>\r\n    </tr>\r\n</table>\r\n\r\n\r\n<!-- SERVICE TABLE -->\r\n<table class=\"service-table\">\r\n    <colgroup>\r\n        <col style=\"width:25px\">\r\n        <col style=\"width:220px\">\r\n        <col style=\"width:70px\">\r\n        <col style=\"width:80px\">\r\n        <col style=\"width:50px\">\r\n        <col style=\"width:60px\">\r\n        <col style=\"width:70px\">\r\n        <col style=\"width:70px\">\r\n        <col style=\"width:70px\">\r\n        <col style=\"width:70px\">\r\n        <col style=\"width:100px\">\r\n    </colgroup>\r\n\r\n    <thead>\r\n        <tr class=\"blue-header\" style=\"border:1px solid #000; border-top:0 !important;\">\r\n            <th style=\"border:1px solid #000; border-top:0 !important; color:#fff; font-weight:700; text-align:left;\">#</th>\r\n            <th style=\"border:1px solid #000; border-top:0 !important; color:#fff; font-weight:700; text-align:left;\">Services</th>\r\n            <th style=\"border:1px solid #000; border-top:0 !important; color:#fff; font-weight:700; text-align:left;\">HSN/SAC</th>\r\n            <th class=\"text-right\"style=\"border:1px solid #000; border-top:0 !important; color:#fff; font-weight:700; text-align:left;\">Price/Unit</th>\r\n            <th class=\"text-right\"style=\"border:1px solid #000; border-top:0 !important; color:#fff; font-weight:700; text-align:left;\">Qty</th>\r\n            <th class=\"text-right\" style=\"border:1px solid #000; border-top:0 !important; color:#fff; font-weight:700; text-align:left;\">Discount</th>\r\n            <th class=\"text-right\" style=\"border:1px solid #000; border-top:0 !important; color:#fff; font-weight:700; text-align:left;\">Taxable Amount</th>\r\n            <th class=\"text-right\" style=\"border:1px solid #000; border-top:0 !important; color:#fff; font-weight:700; text-align:left;\">IGST</th>\r\n            <th class=\"text-right\" style=\"border:1px solid #000; border-top:0 !important; color:#fff; font-weight:700; text-align:left;\">CGST</th>\r\n            <th class=\"text-right\" style=\"border:1px solid #000; border-top:0 !important; color:#fff; font-weight:700; text-align:left;\">SGST</th>\r\n            <th class=\"text-right\" style=\"border:1px solid #000; border-top:0 !important; color:#fff; font-weight:700; text-align:left;\">Amount</th>\r\n        </tr>\r\n    </thead>\r\n\r\n    <tbody>\r\n        {% for row in doc.table_qecz %}\r\n        <tr>\r\n            <td style=\"border:1px solid #000;\">{{ loop.index }}</td>\r\n\r\n            <td style=\"border:1px solid #000;\">\r\n                {{ row.description }}\r\n            </td>\r\n\r\n            <td style=\"border:1px solid #000;\">{{ row.hsn_code }}</td>\r\n            <td style=\"border:1px solid #000;\" class=\"text-right\">\u20b9{{ \"{:,.2f}\".format(row.price)  }}</td>\r\n            <td style=\"border:1px solid #000;\" class=\"text-right\">{{ row.quantity }}</td>\r\n\r\n            <td style=\"border:1px solid #000;\" class=\"text-right\">\r\n                {% if row.discount %}\r\n                    \u20b9{{ \"{:,.2f}\".format(row.discount)  }}\r\n                {% else %}\r\n                    \u20b90.00\r\n                {% endif %}\r\n            </td>\r\n\r\n            <td style=\"border:1px solid #000;\" class=\"text-right\">\r\n                \u20b9{{ \"{:,.2f}\".format(row.sub_total - row.tax_amount) }}\r\n            </td>\r\n\r\n\r\n            <td style=\"border:1px solid #000;\" class=\"text-right\">\r\n                \u20b9{{ \"{:,.2f}\".format(row.igst)  }}\r\n            </td>\r\n\r\n            <td style=\"border:1px solid #000;\" class=\"text-right\">\r\n                \u20b9{{ \"{:,.2f}\".format(row.cgst)  }}\r\n            </td>\r\n\r\n            <td style=\"border:1px solid #000;\" class=\"text-right\">\r\n                \u20b9{{ \"{:,.2f}\".format(row.sgst)  }}\r\n            </td>\r\n\r\n            <td style=\"border:1px solid #000;\" class=\"text-right\">\r\n                \u20b9{{ \"{:,.2f}\".format(row.sub_total)  }}\r\n            </td>\r\n        </tr>\r\n        {% endfor %}\r\n\r\n        <!-- TOTAL ROW -->\r\n        <tr>\r\n            <td style=\"border:1px solid #000;\">&nbsp;</td>\r\n            <td style=\"border:1px solid #000;\" colspan=\"2\"><strong>Total</strong></td>\r\n            <td colspan=\"8\" class=\"text-right\" style=\"border:1px solid #000;\">\r\n                <strong>\u20b9{{ \"{:,.2f}\".format(doc.total_amount)  }}</strong>\r\n            </td>\r\n        </tr>\r\n\r\n    </tbody>\r\n</table>\r\n\r\n\r\n\r\n<!-- TAX & AMOUNT SECTION -->\r\n<table style=\"width:100%; border-collapse: collapse;\">\r\n    <thead>\r\n        <tr class=\"blue-header\" style=\"background:#FDB730; color:#fff;\">\r\n            <th style=\"border:1px solid #000; border-top:0 !important; color:#fff; font-weight:700; text-align:left;\">Tax Type</th>\r\n            <th style=\"border:1px solid #000; border-top:0 !important; color:#fff; font-weight:700; text-align:left;\">Taxable Amount</th>\r\n            <th style=\"border:1px solid #000; border-top:0 !important; color:#fff; font-weight:700; text-align:left;\">Rate</th>\r\n            <th style=\"border:1px solid #000; border-top:0 !important; color:#fff; font-weight:700; text-align:left;\">Tax Amount</th>\r\n            <th style=\"border:1px solid #000; border-top:0 !important; color:#fff; font-weight:700; text-align:left;\" colspan=\"2\">Amounts</th>\r\n        </tr>\r\n    </thead>\r\n\r\n    <tbody>\r\n\r\n        {% for row in doc.table_qecz %}\r\n            {% if row.tax_type and row.tax_percent and (row.tax_percent|float) > 0 %}\r\n\r\n                {# Use tax_category and tax_percent fields from the Tax Types doctype #}\r\n                {% set tax_category = row.tax_category %}\r\n                {% set tax_rate = row.tax_percent|float %}\r\n\r\n                {% if tax_category == \"GST\" %}\r\n                    <!-- CGST Row -->\r\n                    <tr>\r\n                        <td style=\"border:1px solid #000;\">CGST@{{ tax_rate/2 }}%</td>\r\n                        <td style=\"border:1px solid #000;\" class=\"text-right\">\r\n                            \u20b9{{ \"{:,.2f}\".format(row.sub_total - row.tax_amount) }}\r\n                        </td>\r\n                        <td style=\"border:1px solid #000;\">{{ tax_rate/2 }}%</td>\r\n                        <td style=\"border:1px solid #000;\" class=\"text-right\">\r\n                            \u20b9{{ \"{:,.2f}\".format(row.tax_amount / 2) }}\r\n                        </td>\r\n\r\n                        {% if loop.first %}\r\n                        <td style=\"border:1px solid #000;\">Sub Total</td>\r\n                        <td style=\"border:1px solid #000;\" class=\"text-right\">\r\n                            \u20b9{{ \"{:,.2f}\".format(doc.total_amount) }}\r\n                        </td>\r\n                        {% else %}\r\n                        <td colspan=\"2\" style=\"border:1px solid #000;\"></td>\r\n                        {% endif %}\r\n                    </tr>\r\n\r\n                    <!-- SGST Row -->\r\n                    <tr>\r\n                        <td style=\"border:1px solid #000;\">SGST@{{ tax_rate/2 }}%</td>\r\n                        <td style=\"border:1px solid #000;\" class=\"text-right\">\r\n                            \u20b9{{ \"{:,.2f}\".format(row.sub_total - row.tax_amount) }}\r\n                        </td>\r\n                        <td style=\"border:1px solid #000;\">{{ tax_rate/2 }}%</td>\r\n                        <td style=\"border:1px solid #000;\" class=\"text-right\">\r\n                            \u20b9{{ \"{:,.2f}\".format(row.tax_amount / 2) }}\r\n                        </td>\r\n                        <td colspan=\"2\" style=\"border:1px solid #000;\"></td>\r\n                    </tr>\r\n\r\n                {% else %}\r\n                    <!-- IGST / Other Tax Row -->\r\n                    <tr>\r\n                        <td style=\"border:1px solid #000;\">{{ tax_category }}@{{ tax_rate }}%</td>\r\n                        <td style=\"border:1px solid #000;\" class=\"text-right\">\r\n                            \u20b9{{ \"{:,.2f}\".format(row.sub_total - row.tax_amount) }}\r\n                        </td>\r\n                        <td style=\"border:1px solid #000;\">{{ tax_rate }}%</td>\r\n                        <td style=\"border:1px solid #000;\" class=\"text-right\">\r\n                            \u20b9{{ \"{:,.2f}\".format(row.tax_amount) }}\r\n                        </td>\r\n\r\n                        {% if loop.first %}\r\n                        <td style=\"border:1px solid #000;\">Sub Total</td>\r\n                        <td style=\"border:1px solid #000;\" class=\"text-right\">\r\n                            \u20b9{{ \"{:,.2f}\".format(doc.total_amount) }}\r\n                        </td>\r\n                        {% else %}\r\n                        <td colspan=\"2\" style=\"border:1px solid #000;\"></td>\r\n                        {% endif %}\r\n                    </tr>\r\n                {% endif %}\r\n            {% endif %}\r\n        {% endfor %}\r\n\r\n        <!-- Discount Row -->\r\n        <tr>\r\n            <td colspan=\"4\" style=\"border:1px solid #000;\"></td>\r\n            <td style=\"border:1px solid #000;\">Discount</td>\r\n            <td style=\"border:1px solid #000;\" class=\"text-right\">\r\n                \u20b9{{ \"{:,.2f}\".format(doc.overall_discount) }}\r\n            </td>\r\n        </tr>\r\n\r\n        <!-- Grand Total Row -->\r\n        <tr>\r\n            <td colspan=\"4\" style=\"border:1px solid #000;\"></td>\r\n            <td style=\"border:1px solid #000;\"><strong>Total</strong></td>\r\n            <td style=\"border:1px solid #000;\" class=\"text-right\">\r\n                <strong>\u20b9{{ \"{:,.2f}\".format(doc.grand_total) }}</strong>\r\n            </td>\r\n        </tr>\r\n\r\n    </tbody>\r\n</table>\r\n\r\n\r\n<!-- AMOUNT IN WORDS -->\r\n<table style=\"width:100%; border-collapse:collapse; border:1px solid #000; border-top:0 !important;\">\r\n\r\n    <!-- INVOICE AMOUNT IN WORDS -->\r\n    <tr>\r\n        <th colspan=\"3\"\r\n            style=\"background:#FDB730; color:#fff; font-weight:700; text-align:left;\r\n                   padding:6px; border:1px solid #000; border-top:0 !important;\">\r\n            Invoice Amount In Words\r\n        </th>\r\n    </tr>\r\n\r\n    <tr>\r\n        <td colspan=\"3\" style=\"border:1px solid #000; padding:6px;\">\r\n            {{ frappe.utils.money_in_words(doc.grand_total) }}\r\n        </td>\r\n    </tr>\r\n\r\n    <!-- TERMS + QR + SIGNATURE -->\r\n    <tr>\r\n\r\n    <!-- LEFT SECTION: Terms + Bank Details -->\r\n    <td style=\"width:40%; border:1px solid #000; padding:0;\">\r\n\r\n        <!-- TERMS -->\r\n        <div style=\"background:#FDB730; color:white; padding:6px 8px;\r\n                    font-weight:700; border-bottom:1px solid #000;\">\r\n            Terms and Conditions\r\n        </div>\r\n\r\n        <div style=\"padding:6px 8px; border-bottom:1px solid #000;\">\r\n            {% if doc.terms_and_conditions %}\r\n                {{ doc.terms_and_conditions }}\r\n            {% else %}\r\n                \u2022 Kindly check the products before unloading; once unloaded cannot be taken back.<br>\r\n                \u2022 If the order is cancelled after the vehicle has arrived at the site; the customer has to bear the transportation fee.<br>\r\n                \u2022 The customer should pay 100% advance to confirm the order / 50% as advance and 50% before unloading the product.<br>\r\n                \u2022 Credit option is not available.<br>\r\n            {% endif %}\r\n        </div>\r\n\r\n        <!-- BANK DETAILS -->\r\n        <div style=\"background:#FDB730; color:white; padding:6px 8px;\r\n                    font-weight:700; border-bottom:1px solid #000;\">\r\n            Bank Details\r\n        </div>\r\n        {% set bank = frappe.get_doc(\"Company Bank Account\", doc.bank_account) %}\r\n        <div style=\"padding:6px 8px;\">\r\n            Bank Name: {{ bank.bank_name }}<br>\r\n            A/C No: {{ bank.account_no }}<br>\r\n            IFSC: {{ bank.ifsc_code }}<br>\r\n            Account Holder: {{ bank.account_holder_name }}\r\n        </div>\r\n\r\n    </td>\r\n\r\n    {% if doc.bank_account %}\r\n        {% set bank = frappe.get_doc(\"Company Bank Account\", doc.bank_account) %}\r\n    \r\n        {# Build UPI String #}\r\n        {% set upi_string = \r\n            \"upi://pay?pa=\" + bank.upi_id +\r\n            \"&pn=\" + bank.account_holder_name +\r\n            \"&am=\" + (doc.grand_total | string) +\r\n            \"&cu=INR\"\r\n        %}\r\n    \r\n        {# Generate QR SVG using python inside jinja #}\r\n        {% set qr = frappe.call(\"company.company.api.get_upi_qr\", upi_string=upi_string) %}\r\n        \r\n        <td style=\"width:25%; border:1px solid #000; text-align:center; padding:10px;\">\r\n            <div style=\"margin-top: 10px; margin-bottom:10px\"><strong>Scan to Pay</strong><br></div>\r\n            \r\n            <img src=\"data:image/png;base64,{{ qr }}\" width=\"130\">\r\n    \r\n        </td>\r\n    \r\n    {% else %}\r\n    \r\n        <td style=\"width:25%; border:1px solid #000; text-align:center; padding:10px;\">\r\n            <strong>Scan to Pay</strong><br><br>\r\n            No Bank Account Selected\r\n        </td>\r\n    \r\n    {% endif %}\r\n\r\n\r\n    <!-- SIGNATURE BLOCK -->\r\n    <!--<td style=\"width:35%; border:1px solid #000; text-align:center; padding:10px;\">-->\r\n    <!--    <img src=\"/assets/signature.png\" style=\"width:80%; margin-top: 50px\"><br><br>-->\r\n    <!--    <strong>Authorized Signatory</strong>-->\r\n    <!--</td>-->\r\n\r\n</tr>\r\n\r\n\r\n</table>\r\n\r\n\r\n\r\n</div>\r\n",
 "idx": 0,
 "line_breaks": 0,
 "margin_bottom": 15.0,
 "margin_left": 15.0,
 "margin_right": 15.0,
 "margin_top": 15.0,
 "modified": "2026-02-10 17:58:57.780953",
 "modified_by": "Administrator",
 "module": "Company",
 "name": "Invoice Print Format",
 "owner": "Administrator",
 "page_number": "Hide",
 "pdf_generator": "wkhtmltopdf",
 "print_format_builder": 0,
 "print_format_builder_beta": 0,
 "print_format_for": "DocType",
 "print_format_type": "Jinja",
 "raw_printing": 0,
 "show_section_headings": 0,
 "standard": "Yes"
}
